# راهنمای مشارکت در فلسک‌پی‌اچ‌پی

از اینکه علاقه‌مند به مشارکت در توسعه فلسک‌پی‌اچ‌پی هستید، بسیار سپاسگزاریم! این راهنما به شما کمک می‌کند تا با فرآیند
مشارکت آشنا شوید.

## پیش‌نیازها

قبل از شروع، مطمئن شوید که موارد زیر را نصب کرده‌اید:

- PHP 7.4 یا بالاتر
- Composer
- Git

## روند کلی مشارکت

1. [ایجاد یک فورک](#ایجاد-یک-فورک) از مخزن اصلی
2. [راه‌اندازی محیط توسعه](#راه‌اندازی-محیط-توسعه)
3. [ایجاد شاخه (branch) جدید](#ایجاد-شاخه-جدید) برای تغییرات خود
4. [اعمال تغییرات و کامیت](#اعمال-تغییرات-و-کامیت)
5. [ارسال درخواست Pull Request](#ارسال-درخواست-pull-request)

## ایجاد یک فورک

برای شروع، ابتدا باید یک فورک از مخزن اصلی ایجاد کنید:

1. به [صفحه مخزن فلسک‌پی‌اچ‌پی](https://github.com/amirdev-byte/phlask) در گیت‌هاب بروید
2. روی دکمه "Fork" در بالای صفحه کلیک کنید
3. فورک را به سیستم خود کلون کنید:

```bash
git clone https://github.com/AmirDev-byte/phlask.git
cd phlask
```

4. مخزن اصلی را به عنوان "upstream" اضافه کنید:

```bash
git remote add upstream https://github.com/amirdev-byte/phlask.git
```

## راه‌اندازی محیط توسعه

1. نصب وابستگی‌ها با استفاده از Composer:

```bash
composer install
```

2. اجرای تست‌ها برای اطمینان از صحت راه‌اندازی:

```bash
composer test
```

## ایجاد شاخه جدید

برای هر تغییر یا ویژگی جدید، یک شاخه جدید ایجاد کنید:

```bash
# ابتدا آخرین تغییرات را از upstream دریافت کنید
git fetch upstream
git checkout main
git merge upstream/main

# ایجاد شاخه جدید
git checkout -b feature/my-new-feature
# یا
git checkout -b fix/issue-123
```

## اعمال تغییرات و کامیت

1. تغییرات خود را انجام دهید و کد را اصلاح کنید
2. تست‌های جدید برای کد خود بنویسید (اگر ویژگی جدید اضافه می‌کنید)
3. مطمئن شوید که همه تست‌ها با موفقیت اجرا می‌شوند:

```bash
composer test
```

4. استانداردهای کدنویسی را بررسی کنید:

```bash
composer cs-check
```

5. اگر مشکلی در استانداردهای کدنویسی وجود دارد، آن‌ها را به صورت خودکار اصلاح کنید:

```bash
composer cs-fix
```

6. تغییرات خود را کامیت کنید:

```bash
git add .
git commit -m "توضیح مختصر در مورد تغییرات انجام شده"
```

## ارسال درخواست Pull Request

1. تغییرات خود را به فورک خود در گیت‌هاب ارسال کنید:

```bash
git push origin feature/my-new-feature
```

2. به صفحه فورک خود در گیت‌هاب بروید و روی دکمه "Compare & pull request" کلیک کنید
3. جزئیات تغییرات خود را توضیح دهید و درخواست Pull Request را ارسال کنید

## استانداردهای کدنویسی

لطفاً در هنگام توسعه کد به استانداردهای زیر پایبند باشید:

- از استاندارد [PSR-1](https://www.php-fig.org/psr/psr-1/) و [PSR-12](https://www.php-fig.org/psr/psr-12/) برای استایل
  کد استفاده کنید
- از استاندارد [PSR-4](https://www.php-fig.org/psr/psr-4/) برای اتولودینگ استفاده کنید
- اگر اینترفیس‌های PSR دیگری را پیاده‌سازی می‌کنید، از استانداردهای مرتبط پیروی کنید
- برای هر کلاس و متد، PHPDoc بنویسید
- تمام متدهای عمومی (public) باید دارای تست باشند

## نوشتن تست

برای هر ویژگی یا اصلاح باگ، تست مناسب بنویسید:

1. تست‌ها در پوشه `tests/` قرار می‌گیرند
2. از PHPUnit برای نوشتن تست استفاده کنید
3. سعی کنید تمام شاخه‌های کد را با تست پوشش دهید

نمونه یک تست ساده:

```php
namespace Tests\PLHask\Http;

use PLHask\Http\Request;
use PHPUnit\Framework\TestCase;

class RequestTest extends TestCase
{
    public function testParamReturnsDefaultValueWhenParameterDoesNotExist()
    {
        $request = new Request('GET', new Uri('/'));
        $this->assertEquals('default', $request->param('non_existent', 'default'));
    }
}
```

## گزارش باگ

اگر باگی پیدا کردید:

1. ابتدا بررسی کنید که آیا این باگ قبلاً گزارش شده است یا خیر
2. یک Issue جدید با توضیحات دقیق ایجاد کنید
3. اطلاعات زیر را در گزارش باگ خود ذکر کنید:
    - نسخه PHP
    - نسخه فلسک‌پی‌اچ‌پی
    - مراحل بازتولید باگ
    - رفتار مورد انتظار و رفتار فعلی

## درخواست ویژگی‌های جدید

اگر ایده‌ای برای ویژگی جدید دارید:

1. ابتدا بررسی کنید که آیا این ویژگی قبلاً درخواست شده است یا خیر
2. یک Issue جدید با برچسب "feature request" ایجاد کنید
3. کاربرد و مزایای این ویژگی را توضیح دهید
4. در صورت امکان، نمونه کد یا API پیشنهادی ارائه دهید

## نکات مهم

- برای هر تغییر، یک شاخه جدید ایجاد کنید
- قبل از ارسال درخواست Pull Request، آخرین تغییرات را از مخزن اصلی دریافت کنید
- مطمئن شوید که تمام تست‌ها با موفقیت اجرا می‌شوند
- کامیت‌های خود را تمیز و مرتب نگه دارید (اگر نیاز است، از `git rebase -i` استفاده کنید)
- برای هر تغییر، مستندات مرتبط را نیز به‌روزرسانی کنید

## روند بررسی کد

پس از ارسال درخواست Pull Request:

1. تیم توسعه‌دهنده کد شما را بررسی می‌کند
2. ممکن است تغییراتی پیشنهاد شود
3. در صورت نیاز به تغییرات، آن‌ها را انجام دهید و کامیت کنید
4. پس از تایید، کد شما ادغام (merge) خواهد شد

## ارتباط با ما

اگر سوالی دارید یا به کمک نیاز دارید:

- یک Issue در گیت‌هاب ایجاد کنید
- در بخش Discussions در گیت‌هاب سوال خود را مطرح کنید

---

با تشکر از مشارکت شما در بهبود فلسک‌پی‌اچ‌پی! 🎉